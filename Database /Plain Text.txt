package model;

/**
 * Model class (POJO) representing an Employee.
 * This class maps to the 'employee' table in the database.
 */
public class Employee {

    private int id;
    private String name;
    private String email;
    private double salary;
    private String department;

    // No-argument constructor
    public Employee() {
    }

    // Constructor for creating a new employee (ID is auto-generated by DB)
    public Employee(String name, String email, double salary, String department) {
        this.name = name;
        this.email = email;
        this.salary = salary;
        this.department = department;
    }

    // Full constructor (for reading from DB)
    public Employee(int id, String name, String email, double salary, String department) {
        this.id = id;
        this.name = name;
        this.email = email;
        this.salary = salary;
        this.department = department;
    }

    // --- Getters and Setters ---

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public double getSalary() {
        return salary;
    }

    public void setSalary(double salary) {
        this.salary = salary;
    }

    public String getDepartment() {
        return department;
    }

    public void setDepartment(String department) {
        this.department = department;
    }

    // --- toString() for easy printing ---

    @Override
    public String toString() {
        return "Employee [ID=" + id + ", Name=" + name + ", Email=" + email + 
               ", Salary=" + String.format("%.2f", salary) + ", Department=" + department + "]";
    }
}






















-----------------------------------------------------------------------------------------------------------------------------
package util;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

/**
 * Utility class to manage database connections.
 * This class provides a single static method to get a connection to the database.
 */
public class DBConnection {

    // --- !! IMPORTANT !! ---
    // Change these values to match your local MySQL setup.
    // The database 'company_db' must exist.
    private static final String DB_URL = "jdbc:mysql://localhost:3306/company_db?useSSL=false&serverTimezone=UTC";
    private static final String USER = "root";
    private static final String PASS = "your_password"; // <-- CHANGE THIS
    
    /**
     * Establishes and returns a connection to the database.
     * @return A Connection object or null if connection fails.
     */
    public static Connection getConnection() {
        Connection connection = null;
        try {
            // Modern JDBC drivers (4.0+) auto-register.
            // Class.forName("com.mysql.cj.jdbc.Driver"); 
            
            connection = DriverManager.getConnection(DB_URL, USER, PASS);
        } catch (SQLException e) {
            System.err.println("ERROR: Database connection failed. Check credentials and server status.");
            e.printStackTrace();
        }
        return connection;
    }
}
--------------------------------------------------------------------------------------------------------------------
package dao;

import model.Employee;
import java.util.List;

/**
 * Data Access Object (DAO) Interface for Employee.
 * This interface defines the standard CRUD operations to be performed on Employee objects.
 */
public interface EmployeeDAO {

    /**
     * Creates a new employee record in the database.
     * @param employee The Employee object to be added.
     */
    void addEmployee(Employee employee);

    /**
     * Retrieves an employee by their ID.
     * @param id The ID of the employee to retrieve.
     * @return The Employee object if found, otherwise null.
     */
    Employee getEmployeeById(int id);

    /**
     * Retrieves a list of all employees from the database.
     * @return A List of Employee objects.
     */
    List<Employee> getAllEmployees();

    /**
     * Updates an existing employee's information in the database.
     * The Employee object must have a valid ID.
     * @param employee The Employee object with updated information.
     */
    void updateEmployee(Employee employee);

    /**
     * Deletes an employee from the database based on their ID.
     * @param id The ID of the employee to be deleted.
     */
    void deleteEmployee(int id);
}
-----------------------------------------------------------------------
package dao;

import model.Employee;
import util.DBConnection;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

/**
 * Implementation of the EmployeeDAO interface.
 * This class contains the specific JDBC logic for each CRUD operation.
 */
public class EmployeeDAOImpl implements EmployeeDAO {

    @Override
    public void addEmployee(Employee employee) {
        String sql = "INSERT INTO employee (name, email, salary, department) VALUES (?, ?, ?, ?)";
        
        // try-with-resources ensures Connection and PreparedStatement are closed automatically.
        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setString(1, employee.getName());
            pstmt.setString(2, employee.getEmail());
            pstmt.setDouble(3, employee.getSalary());
            pstmt.setString(4, employee.getDepartment());
            
            pstmt.executeUpdate();
            
        } catch (SQLException e) {
            System.err.println("Error adding employee: " + e.getMessage());
        }
    }

    @Override
    public Employee getEmployeeById(int id) {
        String sql = "SELECT * FROM employee WHERE id = ?";
        Employee employee = null;

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            
            try (ResultSet rs = pstmt.executeQuery()) {
                if (rs.next()) {
                    employee = new Employee(
                        rs.getInt("id"),
                        rs.getString("name"),
                        rs.getString("email"),
                        rs.getDouble("salary"),
                        rs.getString("department")
                    );
                }
            }
            
        } catch (SQLException e) {
            System.err.println("Error fetching employee by ID: " + e.getMessage());
        }
        return employee;
    }

    @Override
    public List<Employee> getAllEmployees() {
        List<Employee> employees = new ArrayList<>();
        String sql = "SELECT * FROM employee";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql);
             ResultSet rs = pstmt.executeQuery()) {
            
            while (rs.next()) {
                Employee employee = new Employee(
                    rs.getInt("id"),
                    rs.getString("name"),
                    rs.getString("email"),
                    rs.getDouble("salary"),
                    rs.getString("department")
                );
                employees.add(employee);
            }
            
        } catch (SQLException e) {
            System.err.println("Error fetching all employees: " + e.getMessage());
        }
        return employees;
    }

    @Override
    public void updateEmployee(Employee employee) {
        String sql = "UPDATE employee SET name = ?, email = ?, salary = ?, department = ? WHERE id = ?";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setString(1, employee.getName());
            pstmt.setString(2, employee.getEmail());
            pstmt.setDouble(3, employee.getSalary());
            pstmt.setString(4, employee.getDepartment());
            pstmt.setInt(5, employee.getId());
            
            pstmt.executeUpdate();
            
        } catch (SQLException e) {
            System.err.println("Error updating employee: " + e.getMessage());
        }
    }

    @Override
    public void deleteEmployee(int id) {
        String sql = "DELETE FROM employee WHERE id = ?";

        try (Connection conn = DBConnection.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            pstmt.executeUpdate();
            
        } catch (SQLException e) {
            System.err.println("Error deleting employee: " + e.getMessage());
        }
    }
}


----------------------------------------------------------------------

package main;

import dao.EmployeeDAO;
import dao.EmployeeDAOImpl;
import model.Employee;

import java.util.List;
import java.util.InputMismatchException;
import java.util.Scanner;

/**
 * Main application class with the console menu.
 * This class handles user interaction and calls the DAO methods.
 */
public class EmployeeApp {

    // Use the DAO implementation
    private static EmployeeDAO employeeDAO = new EmployeeDAOImpl();
    private static Scanner scanner = new Scanner(System.in);

    public static void main(String[] args) {
        while (true) {
            printMenu();
            int choice = -1;
            
            try {
                choice = scanner.nextInt();
            } catch (InputMismatchException e) {
                System.out.println("Invalid input. Please enter a number.");
                scanner.nextLine(); // Clear the invalid input
                continue; // Skip to the next loop iteration
            }
            
            scanner.nextLine(); // Consume the newline character

            switch (choice) {
                case 1:
                    addEmployee();
                    break;
                case 2:
                    viewAllEmployees();
                    break;
                case 3:
                    updateEmployee();
                    break;
                case 4:
                    deleteEmployee();
                    break;
                case 5:
                    System.out.println("Exiting application. Goodbye!");
                    scanner.close();
                    return; // Exit the main method (and the app)
                default:
                    System.out.println("Invalid choice. Please select from 1-5.");
            }
        }
    }

    private static void printMenu() {
        System.out.println("\n--- Employee Management System ---");
        System.out.println("1. Add Employee");
        System.out.println("2. View All Employees");
        System.out.println("3. Update Employee");
        System.out.println("4. Delete Employee");
        System.out.println("5. Exit");
        System.out.print("Enter your choice: ");
    }

    private static void addEmployee() {
        try {
            System.out.print("Enter Name: ");
            String name = scanner.nextLine();
            System.out.print("Enter Email: ");
            String email = scanner.nextLine();
            System.out.print("Enter Salary: ");
            double salary = scanner.nextDouble();
            scanner.nextLine(); // Consume newline
            System.out.print("Enter Department: ");
            String department = scanner.nextLine();

            Employee employee = new Employee(name, email, salary, department);
            employeeDAO.addEmployee(employee);
            System.out.println("Employee added successfully!");

        } catch (InputMismatchException e) {
            System.err.println("Invalid input for salary. Please enter a number.");
            scanner.nextLine(); // Clear the bad input
        }
    }

    private static void viewAllEmployees() {
        List<Employee> employees = employeeDAO.getAllEmployees();
        if (employees.isEmpty()) {
            System.out.println("No employees found.");
        } else {
            System.out.println("\n--- List of All Employees ---");
            for (Employee emp : employees) {
                System.out.println(emp); // Relies on the Employee.toString() method
            }
        }
    }

    private static void updateEmployee() {
        try {
            System.out.print("Enter Employee ID to update: ");
            int id = scanner.nextInt();
            scanner.nextLine(); // Consume newline

            Employee employee = employeeDAO.getEmployeeById(id);
            if (employee == null) {
                System.out.println("Employee with ID " + id + " not found.");
                return;
            }

            System.out.println("Updating details for: " + employee.getName());
            System.out.print("Enter new Name (current: " + employee.getName() + "): ");
            String name = scanner.nextLine();
            System.out.print("Enter new Email (current: " + employee.getEmail() + "): ");
            String email = scanner.nextLine();
            System.out.print("Enter new Salary (current: " + employee.getSalary() + "): ");
            double salary = scanner.nextDouble();
            scanner.nextLine(); // Consume newline
            System.out.print("Enter new Department (current: " + employee.getDepartment() + "): ");
            String department = scanner.nextLine();

            // Update the employee object
            employee.setName(name);
            employee.setEmail(email);
            employee.setSalary(salary);
            employee.setDepartment(department);
            // ID remains the same

            employeeDAO.updateEmployee(employee);
            System.out.println("Employee updated successfully!");

        } catch (InputMismatchException e) {
            System.err.println("Invalid input. Please enter a number for ID or Salary.");
            scanner.nextLine(); // Clear the bad input
        }
    }

    private static void deleteEmployee() {
        try {
            System.out.print("Enter Employee ID to delete: ");
            int id = scanner.nextInt();
            scanner.nextLine(); // Consume newline
            
            // Optional: Confirm before deleting
            Employee employee = employeeDAO.getEmployeeById(id);
            if (employee == null) {
                System.out.println("Employee with ID " + id + " not found.");
                return;
            }

            System.out.print("Are you sure you want to delete '" + employee.getName() + "'? (y/n): ");
            String confirm = scanner.nextLine();

            if (confirm.equalsIgnoreCase("y")) {
                employeeDAO.deleteEmployee(id);
                System.out.println("Employee deleted successfully!");
            } else {
                System.out.println("Deletion cancelled.");
            }

        } catch (InputMismatchException e) {
            System.err.println("Invalid input. Please enter a number for ID.");
            scanner.nextLine(); // Clear the bad input
        }
    }
}

















































Create this table in MySQL:

CREATE DATABASE company_db;




CREATE TABLE employee (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    salary DECIMAL(10,2),
    department VARCHAR(50)
);















